                      {mode.brokerType === "fix" && (
                        <div className="space-y-3 p-3 rounded-lg bg-secondary/30 border border-border">
                          <div className="grid grid-cols-2 gap-3">
                            <div className="space-y-2">
                              <Label className="text-xs">SenderCompID</Label>
                              <Input
                                value={mode.fixSenderCompId}
                                onChange={(e) => handleUpdateMode(mode.id, { fixSenderCompId: e.target.value })}
                                placeholder="Your CompID"
                              />
                            </div>
                            <div className="space-y-2">
                              <Label className="text-xs">TargetCompID</Label>
                              <Input
                                value={mode.fixTargetCompId}
                                onChange={(e) => handleUpdateMode(mode.id, { fixTargetCompId: e.target.value })}
                                placeholder="Exchange CompID"
                              />
                            </div>
                          </div>

                          <div className="grid grid-cols-2 gap-3">
                            <div className="space-y-2">
                              <Label className="text-xs">Host</Label>
                              <Input
                                value={mode.fixHost}
                                onChange={(e) => handleUpdateMode(mode.id, { fixHost: e.target.value })}
                                placeholder="fix.exchange.com"
                              />
                            </div>
                            <div className="space-y-2">
                              <Label className="text-xs">Port</Label>
                              <Input
                                type="number"
                                value={mode.fixPort}
                                onChange={(e) => handleUpdateMode(mode.id, { fixPort: parseInt(e.target.value) || 443 })}
                                placeholder="443"
                              />
                            </div>
                          </div>

                          <div className="grid grid-cols-2 gap-3">
                            <div className="space-y-2">
                              <Label className="text-xs">Username</Label>
                              <Input
                                value={mode.fixUsername}
                                onChange={(e) => handleUpdateMode(mode.id, { fixUsername: e.target.value })}
                                placeholder="Username"
                              />
                            </div>
                            <div className="space-y-2">
                              <Label className="text-xs">Password</Label>
                              <div className="flex gap-2">
                                <Input
                                  type={showSecrets[`${mode.id}-fixpass`] ? "text" : "password"}
                                  value={mode.fixPassword}
                                  onChange={(e) => handleUpdateMode(mode.id, { fixPassword: e.target.value })}
                                  placeholder="Password"
                                />
                                <Button variant="outline" size="icon" onClick={() => toggleSecret(`${mode.id}-fixpass`)}>
                                  {showSecrets[`${mode.id}-fixpass`] ? <EyeOff className="w-4 h-4" /> : <Eye className="w-4 h-4" />}
                                </Button>
                              </div>
                            </div>
                          </div>

                          <div className="flex flex-wrap items-center gap-4">
                            <div className="flex items-center gap-2">
                              <Switch
                                checked={mode.fixSslEnabled}
                                onCheckedChange={(checked) => handleUpdateMode(mode.id, { fixSslEnabled: checked })}
                              />
                              <Label className="text-xs">SSL/TLS</Label>
                            </div>
                            <div className="flex items-center gap-2">
                              <Switch
                                checked={mode.fixResetOnLogon}
                                onCheckedChange={(checked) => handleUpdateMode(mode.id, { fixResetOnLogon: checked })}
                              />
                              <Label className="text-xs">Reset on Logon</Label>
                            </div>
                            <div className="flex items-center gap-2">
                              <Label className="text-xs">Heartbeat (sec):</Label>
                              <Input
                                type="number"
                                value={mode.fixHeartbeatInterval}
                                onChange={(e) => handleUpdateMode(mode.id, { fixHeartbeatInterval: parseInt(e.target.value) || 30 })}
                                className="w-20"
                              />
                            </div>
                          </div>

                          <Button
                            onClick={() => testBrokerConnection(mode.id)}
                            variant="outline"
                            size="sm"
                            className="w-full gap-2"
                          >
                            <RefreshCw className="w-4 h-4" />
                            Test FIX Connection
                          </Button>
                        </div>
                      )}
