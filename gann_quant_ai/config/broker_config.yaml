# ================================================================
# BROKER CONFIGURATION v3.1 (Multi-Account & Multi-Broker Support)
# ================================================================
# Synchronized with Frontend Settings.tsx
# Should contain 'trading_modes' list for multi-account support.
# ================================================================

version: "3.2.0"

# ================================================================
# MULTI-ACCOUNT TRADING MODES
# ================================================================
trading_modes:
  - id: "spot-1"
    name: "Spot Trading - Primary"
    mode: "spot"
    enabled: true
    leverage: 1
    marginMode: "cross"
    openLotSize: 0.01
    autoLotSize: false
    trailingStop: false
    trailingStopDistance: 1
    autoDeleverage: false
    hedgingEnabled: false
    selectedInstrument: ""
    riskType: "dynamic"
    riskPerTrade: 2.0
    kellyFraction: 0.5
    adaptiveSizing: true
    volatilityAdjustment: true
    drawdownProtection: true
    maxDrawdown: 15
    dailyLossLimit: 5
    weeklyLossLimit: 15
    breakEvenOnProfit: true
    liquidationAlert: 0
    fixedRiskPerTrade: 2.0
    fixedMaxDrawdown: 20
    riskRewardRatio: 2.0
    fixedLotSize: 0.01
    maxOpenPositions: 5
    brokerType: "crypto_exchange"
    exchange: "binance"
    endpoint: "https://api.binance.com"
    apiKey: ""
    apiSecret: ""
    passphrase: ""
    testnet: true
    brokerConnected: false
    mtType: ""
    mtServer: ""
    mtLogin: ""
    mtPassword: ""
    mtAccountType: "demo"
    mtBroker: ""
    fixSenderCompId: ""
    fixTargetCompId: ""
    fixHost: ""
    fixPort: 443
    fixUsername: ""
    fixPassword: ""
    fixHeartbeatInterval: 30
    fixResetOnLogon: true
    fixSslEnabled: true
    dexChain: ""
    dexExchange: ""
    dexWalletAddress: ""
    dexPrivateKey: ""
    dexSlippage: 0.5
    dexPriorityFee: 0.0001
    dexAutoSlippage: true
    dexAutoPriorityFee: true
    timeEntryEnabled: false
    entryStartTime: "00:00"
    entryEndTime: "23:59"
    useMultiTf: false
    confirmationTimeframes: 
      - "H1"
      - "H4"
      - "D1"

  - id: "futures-1"
    name: "Futures Trading - Primary"
    mode: "futures"
    enabled: true
    leverage: 10
    marginMode: "isolated"
    openLotSize: 0.1
    autoLotSize: true
    trailingStop: true
    trailingStopDistance: 0.5
    autoDeleverage: true
    hedgingEnabled: true
    selectedInstrument: "BTC/USDT"
    riskType: "dynamic"
    riskPerTrade: 1.5
    kellyFraction: 0.5
    adaptiveSizing: true
    volatilityAdjustment: true
    drawdownProtection: true
    maxDrawdown: 10
    dailyLossLimit: 3
    weeklyLossLimit: 10
    breakEvenOnProfit: true
    liquidationAlert: 80
    fixedRiskPerTrade: 2.0
    fixedMaxDrawdown: 20
    riskRewardRatio: 2.0
    fixedLotSize: 0.1
    maxOpenPositions: 3
    brokerType: "crypto_exchange"
    exchange: "binance"
    endpoint: "https://fapi.binance.com"
    apiKey: ""
    apiSecret: ""
    passphrase: ""
    testnet: true
    brokerConnected: false
    mtType: ""
    mtServer: ""
    mtLogin: ""
    mtPassword: ""
    mtAccountType: "demo"
    mtBroker: ""
    fixSenderCompId: ""
    fixTargetCompId: ""
    fixHost: ""
    fixPort: 443
    fixUsername: ""
    fixPassword: ""
    fixHeartbeatInterval: 30
    fixResetOnLogon: true
    fixSslEnabled: true
    dexChain: ""
    dexExchange: ""
    dexWalletAddress: ""
    dexPrivateKey: ""
    dexSlippage: 0.5
    dexPriorityFee: 0.0001
    dexAutoSlippage: true
    dexAutoPriorityFee: true
    timeEntryEnabled: false
    entryStartTime: "00:00"
    entryEndTime: "23:59"
    useMultiTf: false
    confirmationTimeframes:
      - "M15"
      - "H1"
      - "H4"

# ================================================================
# MANUAL LEVERAGE CONFIGURATION
# ================================================================
manual_leverages:
  - instrument: "BTC/USDT"
    leverage: 25
    marginMode: "isolated"
  - instrument: "ETH/USDT"
    leverage: 20
    marginMode: "isolated"
  - instrument: "EUR/USD"
    leverage: 100
    marginMode: "cross"
  - instrument: "XAU/USD"
    leverage: 20
    marginMode: "cross"

# ================================================================
# LEGACY CONFIGURATIONS (Kept for reference/backward compatibility)
# ================================================================

metatrader5:
  enabled: true
  login: ${MT5_LOGIN}
  password: ${MT5_PASSWORD}
  server: "MetaQuotes-Demo"
  path: "C:\\Program Files\\MetaTrader 5\\terminal64.exe"
  timeout:
    connection: 60000
    order: 30000
    
binance_futures:
  enabled: false
  api_key: ${BINANCE_API_KEY}
  api_secret: ${BINANCE_API_SECRET}
  testnet: true
  trading:
    leverage: 10
    margin_type: "ISOLATED"