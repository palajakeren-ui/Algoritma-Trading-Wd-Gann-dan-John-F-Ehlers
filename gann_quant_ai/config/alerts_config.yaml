# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# GANN QUANT AI ‚Äî News & Market Alert Configuration
# Real-time alerts via Email, SMS, Discord, Telegram, Webhook, Slack
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# ‚îÄ‚îÄ‚îÄ Global Alert Settings ‚îÄ‚îÄ‚îÄ
global:
  enabled: true
  max_alerts_per_minute: 30
  cooldown_seconds: 60          # Min seconds between same-type alerts
  dedup_window_minutes: 5       # Suppress duplicate alerts within window
  queue_max_size: 500
  retry_attempts: 3
  retry_delay_seconds: 5
  timezone: "Asia/Jakarta"
  log_all_alerts: true

# ‚îÄ‚îÄ‚îÄ Notification Channels ‚îÄ‚îÄ‚îÄ
channels:

  # ‚îÄ‚îÄ Email (SMTP) ‚îÄ‚îÄ
  email:
    enabled: false
    provider: "smtp"
    smtp_host: "smtp.gmail.com"
    smtp_port: 587
    smtp_tls: true
    username: ""                # your-email@gmail.com
    password: ""                # App Password (not your login password)
    from_address: ""            # your-email@gmail.com
    recipients:
      - ""                      # recipient@example.com
    # For Gmail: Enable 2FA ‚Üí Generate App Password
    # Settings > Security > 2-Step Verification > App Passwords
    template: "html"            # "html" or "plain"
    subject_prefix: "[GANN ALERT]"
    rate_limit:
      max_per_hour: 60
      max_per_day: 500

  # ‚îÄ‚îÄ SMS (Twilio) ‚îÄ‚îÄ
  sms:
    enabled: false
    provider: "twilio"
    account_sid: ""             # Twilio Account SID
    auth_token: ""              # Twilio Auth Token
    from_number: ""             # +1234567890 (Twilio number)
    recipients:
      - ""                      # +6281234567890
    # Sign up at: https://www.twilio.com/
    # Free trial gives $15 credit
    rate_limit:
      max_per_hour: 30
      max_per_day: 200

  # ‚îÄ‚îÄ Telegram Bot ‚îÄ‚îÄ
  telegram:
    enabled: false
    bot_token: ""               # From @BotFather on Telegram
    chat_ids:
      - ""                      # Your chat ID or group chat ID
    # Setup:
    # 1. Message @BotFather ‚Üí /newbot ‚Üí follow instructions
    # 2. Copy the bot token
    # 3. Message @userinfobot to get your chat_id
    # 4. Or add bot to group and use /getUpdates API
    parse_mode: "HTML"          # "HTML" or "Markdown"
    disable_web_preview: false
    rate_limit:
      max_per_minute: 20
      max_per_hour: 200

  # ‚îÄ‚îÄ Discord Webhook ‚îÄ‚îÄ
  discord:
    enabled: false
    webhook_url: ""
    # Setup:
    # 1. Server Settings > Integrations > Webhooks > New Webhook
    # 2. Copy Webhook URL
    # 3. Paste here
    username: "Gann Quant AI"
    avatar_url: ""
    embed_color: 16750848       # 0xFF9A00 (amber)
    mention_role_id: ""         # Optional: role ID to mention on critical alerts
    rate_limit:
      max_per_minute: 30
      max_per_hour: 300

  # ‚îÄ‚îÄ Slack Webhook ‚îÄ‚îÄ
  slack:
    enabled: false
    webhook_url: ""
    # Setup:
    # 1. Go to https://api.slack.com/apps ‚Üí Create New App
    # 2. Incoming Webhooks ‚Üí Activate ‚Üí Add to Channel
    # 3. Copy Webhook URL
    channel: "#trading-alerts"
    username: "Gann Quant AI"
    icon_emoji: ":chart_with_upwards_trend:"
    rate_limit:
      max_per_minute: 20
      max_per_hour: 200

  # ‚îÄ‚îÄ Custom Webhook (REST API) ‚îÄ‚îÄ
  webhook:
    enabled: false
    endpoints:
      - url: ""                 # https://your-api.com/alerts
        method: "POST"
        headers:
          Content-Type: "application/json"
          Authorization: ""     # Bearer YOUR_TOKEN
        timeout_seconds: 10
    rate_limit:
      max_per_minute: 60
      max_per_hour: 500

  # ‚îÄ‚îÄ Desktop Push (Local) ‚îÄ‚îÄ
  desktop_push:
    enabled: true               # Enabled by default (no config needed)
    sound: true
    duration_seconds: 8

# ‚îÄ‚îÄ‚îÄ Alert Rules ‚îÄ‚îÄ‚îÄ
# Define what triggers alerts and which channels to use
alert_rules:

  # Price movement alerts
  price_alerts:
    enabled: true
    channels: ["telegram", "discord", "email", "desktop_push"]
    conditions:
      - type: "price_spike"
        threshold_percent: 5.0
        timeframe_minutes: 15
        severity: "HIGH"
      - type: "price_crash"
        threshold_percent: -5.0
        timeframe_minutes: 15
        severity: "CRITICAL"
      - type: "price_target"
        # User-defined targets stored in runtime
        severity: "MEDIUM"
      - type: "all_time_high"
        severity: "HIGH"
      - type: "support_break"
        severity: "HIGH"
      - type: "resistance_break"
        severity: "MEDIUM"

  # Volume alerts
  volume_alerts:
    enabled: true
    channels: ["telegram", "discord", "desktop_push"]
    conditions:
      - type: "volume_spike"
        threshold_multiplier: 3.0  # 3x average volume
        severity: "HIGH"
      - type: "unusual_volume"
        threshold_multiplier: 5.0
        severity: "CRITICAL"

  # News alerts
  news_alerts:
    enabled: true
    channels: ["telegram", "discord", "email", "sms", "desktop_push"]
    conditions:
      - type: "breaking_news"
        keywords: ["FOMC", "Fed", "rate", "CPI", "GDP", "NFP", "inflation",
                    "recession", "crash", "rally", "hack", "exploit",
                    "regulation", "ban", "approval", "ETF", "SEC"]
        severity: "CRITICAL"
      - type: "flash_alert"
        severity: "CRITICAL"
      - type: "earnings_report"
        severity: "HIGH"
      - type: "economic_event"
        severity: "HIGH"
      - type: "sentiment_shift"
        threshold: 0.3            # Fear/Greed change
        severity: "MEDIUM"

  # Technical alerts
  technical_alerts:
    enabled: true
    channels: ["telegram", "discord", "desktop_push"]
    conditions:
      - type: "gann_signal"
        severity: "HIGH"
      - type: "rsi_overbought"
        threshold: 70
        severity: "MEDIUM"
      - type: "rsi_oversold"
        threshold: 30
        severity: "MEDIUM"
      - type: "macd_crossover"
        severity: "MEDIUM"
      - type: "bollinger_squeeze"
        severity: "MEDIUM"
      - type: "golden_cross"
        severity: "HIGH"
      - type: "death_cross"
        severity: "CRITICAL"

  # Risk alerts
  risk_alerts:
    enabled: true
    channels: ["telegram", "discord", "email", "sms", "desktop_push"]
    conditions:
      - type: "drawdown_warning"
        threshold_percent: -5.0
        severity: "HIGH"
      - type: "margin_call"
        threshold_percent: 80
        severity: "CRITICAL"
      - type: "position_liquidation"
        severity: "CRITICAL"
      - type: "correlation_break"
        severity: "MEDIUM"

  # Whale / large transaction alerts
  whale_alerts:
    enabled: true
    channels: ["telegram", "discord", "desktop_push"]
    conditions:
      - type: "large_transaction"
        min_value_usd: 1000000     # $1M+
        severity: "HIGH"
      - type: "exchange_inflow"
        min_value_usd: 5000000
        severity: "CRITICAL"
      - type: "exchange_outflow"
        min_value_usd: 5000000
        severity: "HIGH"

# ‚îÄ‚îÄ‚îÄ Severity Levels ‚îÄ‚îÄ‚îÄ
severity_config:
  CRITICAL:
    color: "#FF0040"
    emoji: "üö®"
    sound: "critical"
    channels: "all"            # Override: send to ALL enabled channels
    priority: 1
  HIGH:
    color: "#FF6600"
    emoji: "‚ö†Ô∏è"
    sound: "warning"
    priority: 2
  MEDIUM:
    color: "#FFB800"
    emoji: "üìä"
    sound: "info"
    priority: 3
  LOW:
    color: "#00D4FF"
    emoji: "‚ÑπÔ∏è"
    sound: "none"
    priority: 4
  INFO:
    color: "#8B95A5"
    emoji: "üìå"
    sound: "none"
    priority: 5

# ‚îÄ‚îÄ‚îÄ Watchlist Alert Subscriptions ‚îÄ‚îÄ‚îÄ
# Symbols to monitor (can be managed from UI)
watchlist_subscriptions:
  - symbol: "BTCUSDT"
    alerts: ["price_alerts", "volume_alerts", "whale_alerts", "news_alerts"]
  - symbol: "ETHUSDT"
    alerts: ["price_alerts", "volume_alerts", "whale_alerts"]
  - symbol: "XAUUSD"
    alerts: ["price_alerts", "news_alerts"]
  - symbol: "EURUSD"
    alerts: ["price_alerts", "news_alerts"]
  - symbol: "SPX"
    alerts: ["price_alerts", "news_alerts", "technical_alerts"]
