# ================================================================
# OPEN TERMINAL CONFIGURATION v3.0
# Bloomberg-Style Professional Trading Terminal
# ================================================================

version: "3.0.0"

# ────────────────────────────────────────────────────────────────
# WATCHLIST – Default instruments displayed in left panel
# ────────────────────────────────────────────────────────────────
watchlist:
  default_instruments:
    - symbol: "BTCUSDT"
      name: "Bitcoin/USDT"
      category: "cryptocurrency"
      exchange: "binance"
    - symbol: "ETHUSDT"
      name: "Ethereum/USDT"
      category: "cryptocurrency"
      exchange: "binance"
    - symbol: "SOLUSDT"
      name: "Solana/USDT"
      category: "cryptocurrency"
      exchange: "binance"
    - symbol: "BNBUSDT"
      name: "BNB/USDT"
      category: "cryptocurrency"
      exchange: "binance"
    - symbol: "XRPUSDT"
      name: "XRP/USDT"
      category: "cryptocurrency"
      exchange: "binance"
    - symbol: "XAUUSD"
      name: "Gold Spot/USD"
      category: "commodity"
      exchange: "forex"
    - symbol: "EURUSD"
      name: "Euro/USD"
      category: "forex"
      exchange: "forex"
    - symbol: "SPX"
      name: "S&P 500"
      category: "index"
      exchange: "cboe"

  max_watchlist_size: 50
  auto_refresh_interval_ms: 2000
  sort_by: "default"  # default, name, change, volume

# ────────────────────────────────────────────────────────────────
# NEWS WIRE – Market news feed configuration
# ────────────────────────────────────────────────────────────────
news:
  enabled: true
  max_headlines: 50
  auto_refresh_interval_sec: 30

  # News sources and their priority
  sources:
    - code: "RTRS"
      name: "Reuters"
      enabled: true
      priority: 1
    - code: "BBG"
      name: "Bloomberg"
      enabled: true
      priority: 1
    - code: "CDESK"
      name: "CoinDesk"
      enabled: true
      priority: 2
    - code: "FT"
      name: "Financial Times"
      enabled: true
      priority: 2
    - code: "WSJ"
      name: "Wall Street Journal"
      enabled: true
      priority: 2
    - code: "CNBC"
      name: "CNBC"
      enabled: true
      priority: 3

  # Urgency levels
  urgency_levels:
    - level: "FLASH"
      color: "#ff3b3b"
      sound_alert: true
      popup_notification: true
    - level: "ALERT"
      color: "#ff9a00"
      sound_alert: true
      popup_notification: false
    - level: "INFO"
      color: "#4a5568"
      sound_alert: false
      popup_notification: false

  # Category filters
  categories:
    - "macro"
    - "crypto"
    - "forex"
    - "equities"
    - "commodities"
    - "central_bank"
    - "earnings"
    - "geopolitics"

# ────────────────────────────────────────────────────────────────
# ECONOMIC CALENDAR – Event tracking
# ────────────────────────────────────────────────────────────────
economic_calendar:
  enabled: true
  max_events: 20
  show_past_events: true
  past_events_window_hours: 4

  # Impact rating system
  impact_levels:
    - level: "HIGH"
      color: "#ff3b3b"
      description: "Market-moving event"
    - level: "MED"
      color: "#ff9a00"
      description: "Moderate impact expected"
    - level: "LOW"
      color: "#4a5568"
      description: "Minor market effect"

  # Tracked event types
  tracked_events:
    - "FOMC_DECISION"
    - "NFP"
    - "CPI"
    - "GDP"
    - "PMI"
    - "RETAIL_SALES"
    - "JOBLESS_CLAIMS"
    - "FED_SPEECH"
    - "ECB_DECISION"
    - "BOJ_DECISION"
    - "BOE_DECISION"
    - "TRADE_BALANCE"
    - "CONSUMER_CONFIDENCE"
    - "ISM_MANUFACTURING"

  # Countries to track
  countries:
    - "US"
    - "EU"
    - "UK"
    - "JP"
    - "CN"
    - "AU"
    - "CA"

# ────────────────────────────────────────────────────────────────
# FUNDAMENTAL ANALYSIS – Asset data & metrics
# ────────────────────────────────────────────────────────────────
fundamental:
  enabled: true

  # Crypto-specific on-chain metrics
  crypto_metrics:
    - "market_cap"
    - "circulating_supply"
    - "max_supply"
    - "nvt_ratio"
    - "stock_to_flow"
    - "active_addresses"
    - "hash_rate"
    - "staking_apy"
    - "tvl_defi"
    - "volatility_30d"
    - "sharpe_ratio_1y"

  # Equity/Index metrics
  equity_metrics:
    - "market_cap"
    - "pe_ratio"
    - "pb_ratio"
    - "eps_ttm"
    - "dividend_yield"
    - "beta"
    - "debt_to_equity"
    - "roe"
    - "profit_margin"
    - "shares_outstanding"
    - "float"
    - "revenue_growth"
    - "earnings_growth"

  # Analyst consensus settings
  analyst_consensus:
    enabled: true
    show_price_target: true
    show_buy_hold_sell: true
    min_analysts: 3

  # ESG scoring
  esg:
    enabled: true
    categories:
      - name: "Environmental"
        weight: 0.35
      - name: "Social"
        weight: 0.30
      - name: "Governance"
        weight: 0.35

  # Asset descriptions
  descriptions:
    BTCUSDT: "Bitcoin is the first decentralized digital currency, created in 2009 by Satoshi Nakamoto. It operates on a peer-to-peer network using blockchain technology for secure, transparent transactions without intermediaries."
    ETHUSDT: "Ethereum is a decentralized, open-source blockchain with smart contract functionality. Ether (ETH) is the native cryptocurrency. Ethereum enables DeFi, NFTs, and thousands of decentralized applications."
    SOLUSDT: "Solana is a high-performance blockchain supporting builders around the world creating crypto apps. Known for its speed (65,000 TPS) and low transaction costs."
    BNBUSDT: "BNB is the native token of the BNB Chain ecosystem (formerly Binance Smart Chain). Used for transaction fees, staking, and governance across the Binance ecosystem."
    XRPUSDT: "XRP is the digital asset native to the XRP Ledger. Created for enterprise use for fast, low-cost international payments and cross-border money transfers."
    XAUUSD: "Gold Spot vs US Dollar. Gold is a precious metal traded globally as a safe-haven asset and inflation hedge. Central banks hold gold as reserve assets."
    EURUSD: "Euro vs US Dollar — the most actively traded currency pair in forex markets. Represents the exchange rate between the European single currency and the US Dollar."
    SPX: "The S&P 500 Index tracks the stock performance of 500 of the largest companies listed on US stock exchanges. It is widely regarded as the best gauge of US large-cap equities."

# ────────────────────────────────────────────────────────────────
# OPTIONS MONITOR (OMON) – Option chain configuration
# ────────────────────────────────────────────────────────────────
options_monitor:
  enabled: true
  default_expiry_days: 30
  strikes_count: 12
  strike_interval_pct: 0.01  # 1% between strikes

  # Displayed columns
  columns:
    calls:
      - "volume"
      - "open_interest"
      - "bid"
      - "ask"
      - "iv"
    center:
      - "strike"
    puts:
      - "iv"
      - "bid"
      - "ask"
      - "open_interest"
      - "volume"
    greeks:
      - "delta"
      - "gamma"

  # Greeks calculation
  greeks_model: "Black-Scholes"
  risk_free_rate: 0.045
  dividend_yield: 0.0

  # Indicators
  show_pcr: true          # Put/Call ratio
  show_max_pain: true     # Max pain strike
  show_iv_skew: true      # Volatility skew

# ────────────────────────────────────────────────────────────────
# COMMAND TERMINAL – Terminal command settings
# ────────────────────────────────────────────────────────────────
command_terminal:
  enabled: true
  max_history: 500
  auto_scroll: true

  # Available commands and their permissions
  commands:
    # Market Data
    - name: "PRICE"
      aliases: ["Q", "QUOTE"]
      description: "Get current price and quote data"
      category: "market_data"
      enabled: true

    - name: "BOOK"
      aliases: ["DOM", "DEPTH"]
      description: "Show order book / depth of market"
      category: "market_data"
      enabled: true

    - name: "WATCHLIST"
      aliases: ["WL", "LIST"]
      description: "Display watchlist with prices"
      category: "market_data"
      enabled: true

    # Trading
    - name: "BUY"
      aliases: []
      description: "Place a buy market order"
      category: "trading"
      enabled: true
      requires_confirmation: true

    - name: "SELL"
      aliases: []
      description: "Place a sell market order"
      category: "trading"
      enabled: true
      requires_confirmation: true

    # Analysis
    - name: "GANN"
      aliases: []
      description: "Run Gann analysis on symbol"
      category: "analysis"
      enabled: true

    - name: "ASTRO"
      aliases: []
      description: "Show astro signals and planetary aspects"
      category: "analysis"
      enabled: true

    - name: "SCAN"
      aliases: ["SCANNER"]
      description: "Run market scanner for signals"
      category: "analysis"
      enabled: true

    # Portfolio
    - name: "POS"
      aliases: ["POSITIONS"]
      description: "Show open positions"
      category: "portfolio"
      enabled: true

    - name: "RISK"
      aliases: []
      description: "Show risk metrics and portfolio heat"
      category: "portfolio"
      enabled: true

    - name: "BALANCE"
      aliases: ["BAL"]
      description: "Show account balance and equity"
      category: "portfolio"
      enabled: true

    - name: "PNL"
      aliases: []
      description: "Show profit & loss summary"
      category: "portfolio"
      enabled: true

    # Navigation
    - name: "DES"
      aliases: ["DESCRIPTION"]
      description: "Switch to Description panel"
      category: "navigation"
      enabled: true

    - name: "GP"
      aliases: ["GRAPH", "CHART"]
      description: "Switch to Price Graph panel"
      category: "navigation"
      enabled: true

    - name: "FA"
      aliases: ["FUNDAMENTAL"]
      description: "Switch to Fundamental Analysis panel"
      category: "navigation"
      enabled: true

    - name: "NEWS"
      aliases: ["N"]
      description: "Switch to News Wire panel"
      category: "navigation"
      enabled: true

    - name: "OMON"
      aliases: ["OPTIONS", "OPT"]
      description: "Switch to Options Monitor panel"
      category: "navigation"
      enabled: true

    - name: "CMD"
      aliases: ["TERMINAL", "TERM"]
      description: "Switch to Command Terminal panel"
      category: "navigation"
      enabled: true

    # System
    - name: "STATUS"
      aliases: ["SYS"]
      description: "Show system status and connectivity"
      category: "system"
      enabled: true

    - name: "TIME"
      aliases: ["CLOCK", "DATE"]
      description: "Show server and session times"
      category: "system"
      enabled: true

    - name: "HELP"
      aliases: ["H", "?"]
      description: "Show available commands"
      category: "system"
      enabled: true

    - name: "CLEAR"
      aliases: ["CLS"]
      description: "Clear terminal output"
      category: "system"
      enabled: true

# ────────────────────────────────────────────────────────────────
# LAYOUT – Terminal visual settings
# ────────────────────────────────────────────────────────────────
layout:
  # Panel sizes (CSS grid)
  watchlist_width: "180px"
  tape_width: "220px"
  
  # Default visible panel
  default_panel: "DES"

  # Ticker tape at top
  ticker_tape:
    enabled: true
    scroll_speed_sec: 50
    show_percentage: true
    show_arrows: true

  # Theme (terminal-style dark)
  theme:
    background: "#0a0e17"
    background_secondary: "#0d1420"
    background_tertiary: "#111927"
    border: "#1a2a3a"
    accent: "#ff9a00"       # amber
    positive: "#00d26a"     # green
    negative: "#ff3b3b"     # red
    info: "#00d4ff"         # cyan
    text: "#d4dae3"         # white
    text_dim: "#4a5568"     # dim
    highlight: "#ffd700"    # yellow

  # Font settings
  font:
    family: "'Consolas','SF Mono','Fira Code',monospace"
    size_base: 11
    size_small: 9
    size_header: 15

# ────────────────────────────────────────────────────────────────
# MARKET SESSIONS – Trading session hours (UTC)
# ────────────────────────────────────────────────────────────────
market_sessions:
  - name: "New York"
    code: "NY"
    open_utc: "13:30"
    close_utc: "20:00"
    timezone: "America/New_York"

  - name: "London"
    code: "LDN"
    open_utc: "08:00"
    close_utc: "16:30"
    timezone: "Europe/London"

  - name: "Tokyo"
    code: "TKY"
    open_utc: "00:00"
    close_utc: "06:00"
    timezone: "Asia/Tokyo"

  - name: "Sydney"
    code: "SYD"
    open_utc: "22:00"
    close_utc: "05:00"
    timezone: "Australia/Sydney"

  - name: "Hong Kong"
    code: "HK"
    open_utc: "01:30"
    close_utc: "08:00"
    timezone: "Asia/Hong_Kong"

  - name: "Crypto"
    code: "CRYPTO"
    open_utc: "00:00"
    close_utc: "23:59"
    timezone: "UTC"

# ────────────────────────────────────────────────────────────────
# DATA FEED – Price & order book update settings
# ────────────────────────────────────────────────────────────────
data_feed:
  # WebSocket price updates
  price_update_interval_ms: 2000
  orderbook_update_interval_ms: 1000
  tape_update_interval_ms: 500

  # Order book depth
  orderbook_default_levels: 20
  orderbook_max_levels: 50

  # Time & Sales
  tape_max_rows: 50
  tape_highlight_large_trades: true
  tape_large_trade_threshold_usd: 50000

  # Simulation fallback (when no live exchange connected)
  simulation:
    enabled: true
    price_volatility: 0.0003     # 0.03% per tick
    orderbook_whale_probability: 0.06
    tape_buy_bias: 0.52          # slight buy bias

# ────────────────────────────────────────────────────────────────
# ALERTS – Terminal-level alerts
# ────────────────────────────────────────────────────────────────
alerts:
  price_alerts:
    enabled: true
    max_active: 50
    channels:
      - "terminal_popup"
      - "sound"

  news_alerts:
    flash_sound: true
    flash_popup: true
    alert_sound: false
    alert_popup: false

# ────────────────────────────────────────────────────────────────
# INTEGRATIONS – Backend API endpoints consumed by terminal
# ────────────────────────────────────────────────────────────────
api_endpoints:
  bookmap_depth: "/api/bookmap/depth/{symbol}"
  bookmap_tape: "/api/bookmap/tape/{symbol}"
  bookmap_heatmap: "/api/bookmap/heatmap/{symbol}"
  bookmap_footprint: "/api/bookmap/footprint/{symbol}"
  bookmap_detection: "/api/bookmap/detection/{symbol}"
  bookmap_cvd: "/api/bookmap/cvd/{symbol}"
  terminal_command: "/api/terminal/command"
  terminal_history: "/api/terminal/history"
  terminal_watchlist: "/api/terminal/watchlist"
  terminal_fundamental: "/api/terminal/fundamental/{symbol}"
  terminal_news: "/api/terminal/news"
  terminal_options: "/api/terminal/options/{symbol}"
